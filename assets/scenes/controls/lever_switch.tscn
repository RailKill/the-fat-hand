[gd_scene load_steps=8 format=2]

[ext_resource path="res://assets/models/railkill/lever/lever_stick.glb" type="PackedScene" id=1]
[ext_resource path="res://assets/models/kenney/platformer_kit/wood.material" type="Material" id=2]
[ext_resource path="res://assets/models/kenney/furniture_kit/carpet.material" type="Material" id=3]
[ext_resource path="res://assets/models/railkill/lever/lever_base.glb" type="PackedScene" id=4]
[ext_resource path="res://assets/scripts/props/lever_body.gd" type="Script" id=6]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1, 2.22094, 1 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 2.75, 1.38, 1.16 )

[node name="LeverSwitch" type="Spatial"]

[node name="Knob" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.74641, 0 )
collision_mask = 0
script = ExtResource( 6 )

[node name="Stick" parent="Knob" instance=ExtResource( 1 )]

[node name="Head" parent="Knob/Stick" index="0"]
material/0 = ExtResource( 3 )

[node name="Shaft" parent="Knob/Stick" index="1"]
material/0 = ExtResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="Knob"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.26032, 0 )
shape = SubResource( 1 )

[node name="StaticBody" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.06392, 0 )
collision_layer = 0
collision_mask = 6

[node name="Base" parent="StaticBody" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 0 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.31, 0 )
shape = SubResource( 2 )

[node name="HingeJoint" type="HingeJoint" parent="."]
nodes/node_a = NodePath("../StaticBody")
nodes/node_b = NodePath("../Knob")
params/bias = 0.99
angular_limit/enable = true
angular_limit/upper = 45.0
angular_limit/lower = -45.0
angular_limit/bias = 0.99
motor/target_velocity = -10.0
motor/max_impulse = 2.0

[editable path="Knob/Stick"]
